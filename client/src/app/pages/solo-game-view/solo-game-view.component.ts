/* eslint-disable max-lines */
import { AfterViewInit, Component, ElementRef, OnDestroy, ViewChild } from '@angular/core';
import { Game } from '@app/interfaces/game-interfaces';
import { Vec2 } from '@app/interfaces/vec2';
import { ClassicSystemService } from '@app/services/classic-system-service/classic-system.service';
import { CommunicationService } from '@app/services/communication-service/communication.service';
import { GameAreaService } from '@app/services/game-area-service/game-area.service';
import { GameCardService } from '@app/services/gamecard-service/gamecard.service';
import { TimerService } from '@app/services/timer-service/timer.service';

@Component({
    selector: 'app-solo-game-view',
    templateUrl: './solo-game-view.component.html',
    styleUrls: ['./solo-game-view.component.scss'],
})
export class SoloGameViewComponent implements AfterViewInit, OnDestroy {
    @ViewChild('originalCanvas', { static: false }) originalCanvas!: ElementRef<HTMLCanvasElement>;
    @ViewChild('modifiedCanvas', { static: false }) modifiedCanvas!: ElementRef<HTMLCanvasElement>;
    @ViewChild('originalCanvasFG', { static: false }) originalCanvasForeground!: ElementRef<HTMLCanvasElement>;
    @ViewChild('modifiedCanvasFG', { static: false }) modifiedCanvasForeground!: ElementRef<HTMLCanvasElement>;
    time: string = '00:00';
    game: Game;
    mode: string = 'Solo';
    penaltyTime: number = 1;
    bonusTime: number = 1;
    isLeftCanvas: boolean;
    readonly homeRoute: string = '/home';
    // private canvasSize = { width: CANVAS_WIDTH, height: CANVAS_HEIGHT };

    difference: Vec2[] = [
        {
            x: 391,
            y: 82,
        },
        {
            x: 390,
            y: 81,
        },
        {
            x: 390,
            y: 82,
        },
        {
            x: 390,
            y: 83,
        },
        {
            x: 391,
            y: 81,
        },
        {
            x: 391,
            y: 83,
        },
        {
            x: 392,
            y: 81,
        },
        {
            x: 392,
            y: 82,
        },
        {
            x: 392,
            y: 83,
        },
        {
            x: 391,
            y: 84,
        },
        {
            x: 392,
            y: 84,
        },
        {
            x: 393,
            y: 82,
        },
        {
            x: 393,
            y: 83,
        },
        {
            x: 393,
            y: 84,
        },
        {
            x: 392,
            y: 85,
        },
        {
            x: 393,
            y: 85,
        },
        {
            x: 394,
            y: 83,
        },
        {
            x: 394,
            y: 84,
        },
        {
            x: 394,
            y: 85,
        },
        {
            x: 393,
            y: 86,
        },
        {
            x: 394,
            y: 86,
        },
        {
            x: 395,
            y: 84,
        },
        {
            x: 395,
            y: 85,
        },
        {
            x: 395,
            y: 86,
        },
        {
            x: 394,
            y: 87,
        },
        {
            x: 395,
            y: 87,
        },
        {
            x: 396,
            y: 85,
        },
        {
            x: 396,
            y: 86,
        },
        {
            x: 396,
            y: 87,
        },
        {
            x: 395,
            y: 88,
        },
        {
            x: 396,
            y: 88,
        },
        {
            x: 397,
            y: 86,
        },
        {
            x: 397,
            y: 87,
        },
        {
            x: 397,
            y: 88,
        },
        {
            x: 398,
            y: 87,
        },
        {
            x: 398,
            y: 86,
        },
        {
            x: 399,
            y: 86,
        },
        {
            x: 399,
            y: 87,
        },
        {
            x: 400,
            y: 86,
        },
        {
            x: 400,
            y: 87,
        },
        {
            x: 401,
            y: 86,
        },
        {
            x: 401,
            y: 87,
        },
        {
            x: 402,
            y: 86,
        },
        {
            x: 402,
            y: 87,
        },
        {
            x: 403,
            y: 86,
        },
        {
            x: 403,
            y: 87,
        },
        {
            x: 404,
            y: 86,
        },
        {
            x: 404,
            y: 87,
        },
        {
            x: 405,
            y: 86,
        },
        {
            x: 405,
            y: 87,
        },
        {
            x: 406,
            y: 86,
        },
        {
            x: 405,
            y: 85,
        },
        {
            x: 406,
            y: 85,
        },
        {
            x: 407,
            y: 85,
        },
        {
            x: 407,
            y: 86,
        },
        {
            x: 406,
            y: 84,
        },
        {
            x: 407,
            y: 84,
        },
        {
            x: 408,
            y: 84,
        },
        {
            x: 407,
            y: 83,
        },
        {
            x: 408,
            y: 83,
        },
        {
            x: 407,
            y: 82,
        },
        {
            x: 408,
            y: 82,
        },
        {
            x: 407,
            y: 81,
        },
        {
            x: 406,
            y: 80,
        },
        {
            x: 406,
            y: 81,
        },
        {
            x: 406,
            y: 82,
        },
        {
            x: 407,
            y: 80,
        },
        {
            x: 405,
            y: 81,
        },
        {
            x: 405,
            y: 82,
        },
        {
            x: 405,
            y: 83,
        },
        {
            x: 406,
            y: 83,
        },
        {
            x: 405,
            y: 84,
        },
        {
            x: 404,
            y: 83,
        },
        {
            x: 404,
            y: 84,
        },
        {
            x: 404,
            y: 85,
        },
        {
            x: 403,
            y: 84,
        },
        {
            x: 403,
            y: 85,
        },
        {
            x: 402,
            y: 84,
        },
        {
            x: 402,
            y: 85,
        },
        {
            x: 401,
            y: 84,
        },
        {
            x: 401,
            y: 85,
        },
        {
            x: 400,
            y: 84,
        },
        {
            x: 400,
            y: 85,
        },
        {
            x: 399,
            y: 84,
        },
        {
            x: 399,
            y: 85,
        },
        {
            x: 398,
            y: 84,
        },
        {
            x: 398,
            y: 85,
        },
        {
            x: 397,
            y: 84,
        },
        {
            x: 397,
            y: 85,
        },
        {
            x: 396,
            y: 84,
        },
        {
            x: 395,
            y: 83,
        },
        {
            x: 396,
            y: 83,
        },
        {
            x: 397,
            y: 83,
        },
        {
            x: 396,
            y: 82,
        },
        {
            x: 397,
            y: 82,
        },
        {
            x: 398,
            y: 82,
        },
        {
            x: 398,
            y: 83,
        },
        {
            x: 399,
            y: 82,
        },
        {
            x: 399,
            y: 83,
        },
        {
            x: 400,
            y: 82,
        },
        {
            x: 400,
            y: 83,
        },
        {
            x: 401,
            y: 82,
        },
        {
            x: 401,
            y: 83,
        },
        {
            x: 402,
            y: 82,
        },
        {
            x: 402,
            y: 83,
        },
        {
            x: 403,
            y: 82,
        },
        {
            x: 403,
            y: 83,
        },
        {
            x: 404,
            y: 82,
        },
        {
            x: 403,
            y: 81,
        },
        {
            x: 404,
            y: 81,
        },
        {
            x: 403,
            y: 80,
        },
        {
            x: 404,
            y: 80,
        },
        {
            x: 405,
            y: 80,
        },
        {
            x: 404,
            y: 79,
        },
        {
            x: 405,
            y: 79,
        },
        {
            x: 403,
            y: 79,
        },
        {
            x: 402,
            y: 79,
        },
        {
            x: 402,
            y: 80,
        },
        {
            x: 401,
            y: 79,
        },
        {
            x: 401,
            y: 80,
        },
        {
            x: 401,
            y: 81,
        },
        {
            x: 402,
            y: 81,
        },
        {
            x: 400,
            y: 80,
        },
        {
            x: 400,
            y: 81,
        },
        {
            x: 399,
            y: 80,
        },
        {
            x: 399,
            y: 81,
        },
        {
            x: 398,
            y: 80,
        },
        {
            x: 398,
            y: 81,
        },
        {
            x: 397,
            y: 80,
        },
        {
            x: 397,
            y: 81,
        },
        {
            x: 396,
            y: 80,
        },
        {
            x: 396,
            y: 81,
        },
        {
            x: 395,
            y: 80,
        },
        {
            x: 395,
            y: 81,
        },
        {
            x: 395,
            y: 82,
        },
        {
            x: 394,
            y: 81,
        },
        {
            x: 394,
            y: 82,
        },
        {
            x: 393,
            y: 81,
        },
        {
            x: 392,
            y: 80,
        },
        {
            x: 393,
            y: 80,
        },
        {
            x: 394,
            y: 80,
        },
        {
            x: 394,
            y: 79,
        },
        {
            x: 395,
            y: 79,
        },
        {
            x: 396,
            y: 79,
        },
        {
            x: 397,
            y: 79,
        },
        {
            x: 398,
            y: 79,
        },
        {
            x: 399,
            y: 79,
        },
        {
            x: 400,
            y: 79,
        },
        {
            x: 391,
            y: 80,
        },
        {
            x: 394,
            y: 88,
        },
        {
            x: 394,
            y: 89,
        },
        {
            x: 393,
            y: 88,
        },
        {
            x: 393,
            y: 89,
        },
        {
            x: 392,
            y: 88,
        },
        {
            x: 392,
            y: 89,
        },
        {
            x: 391,
            y: 88,
        },
        {
            x: 391,
            y: 89,
        },
        {
            x: 390,
            y: 88,
        },
        {
            x: 390,
            y: 89,
        },
        {
            x: 389,
            y: 88,
        },
        {
            x: 389,
            y: 89,
        },
        {
            x: 388,
            y: 88,
        },
        {
            x: 388,
            y: 89,
        },
        {
            x: 387,
            y: 88,
        },
        {
            x: 387,
            y: 89,
        },
        {
            x: 386,
            y: 88,
        },
        {
            x: 386,
            y: 89,
        },
        {
            x: 385,
            y: 88,
        },
        {
            x: 385,
            y: 89,
        },
        {
            x: 384,
            y: 88,
        },
        {
            x: 384,
            y: 89,
        },
        {
            x: 383,
            y: 88,
        },
        {
            x: 383,
            y: 89,
        },
        {
            x: 382,
            y: 88,
        },
        {
            x: 382,
            y: 89,
        },
        {
            x: 381,
            y: 88,
        },
        {
            x: 381,
            y: 89,
        },
        {
            x: 380,
            y: 88,
        },
        {
            x: 380,
            y: 89,
        },
        {
            x: 379,
            y: 88,
        },
        {
            x: 379,
            y: 89,
        },
        {
            x: 378,
            y: 88,
        },
        {
            x: 378,
            y: 89,
        },
        {
            x: 377,
            y: 88,
        },
        {
            x: 377,
            y: 89,
        },
        {
            x: 376,
            y: 88,
        },
        {
            x: 376,
            y: 89,
        },
        {
            x: 375,
            y: 88,
        },
        {
            x: 375,
            y: 89,
        },
        {
            x: 374,
            y: 88,
        },
        {
            x: 374,
            y: 89,
        },
        {
            x: 373,
            y: 88,
        },
        {
            x: 373,
            y: 89,
        },
        {
            x: 372,
            y: 88,
        },
        {
            x: 372,
            y: 89,
        },
        {
            x: 371,
            y: 88,
        },
        {
            x: 371,
            y: 89,
        },
        {
            x: 370,
            y: 88,
        },
        {
            x: 370,
            y: 89,
        },
        {
            x: 369,
            y: 88,
        },
        {
            x: 369,
            y: 89,
        },
        {
            x: 368,
            y: 88,
        },
        {
            x: 368,
            y: 89,
        },
        {
            x: 367,
            y: 88,
        },
        {
            x: 367,
            y: 89,
        },
        {
            x: 366,
            y: 88,
        },
        {
            x: 366,
            y: 89,
        },
        {
            x: 365,
            y: 88,
        },
        {
            x: 365,
            y: 89,
        },
        {
            x: 364,
            y: 88,
        },
        {
            x: 364,
            y: 89,
        },
        {
            x: 363,
            y: 88,
        },
        {
            x: 363,
            y: 89,
        },
        {
            x: 362,
            y: 88,
        },
        {
            x: 362,
            y: 89,
        },
        {
            x: 361,
            y: 88,
        },
        {
            x: 361,
            y: 89,
        },
        {
            x: 360,
            y: 88,
        },
        {
            x: 360,
            y: 89,
        },
        {
            x: 359,
            y: 88,
        },
        {
            x: 359,
            y: 89,
        },
        {
            x: 358,
            y: 88,
        },
        {
            x: 358,
            y: 89,
        },
        {
            x: 357,
            y: 88,
        },
        {
            x: 357,
            y: 89,
        },
        {
            x: 356,
            y: 88,
        },
        {
            x: 356,
            y: 89,
        },
        {
            x: 355,
            y: 88,
        },
        {
            x: 355,
            y: 89,
        },
        {
            x: 354,
            y: 88,
        },
        {
            x: 354,
            y: 89,
        },
        {
            x: 353,
            y: 88,
        },
        {
            x: 353,
            y: 89,
        },
        {
            x: 352,
            y: 88,
        },
        {
            x: 352,
            y: 89,
        },
        {
            x: 351,
            y: 88,
        },
        {
            x: 351,
            y: 89,
        },
        {
            x: 350,
            y: 88,
        },
        {
            x: 350,
            y: 89,
        },
        {
            x: 349,
            y: 88,
        },
        {
            x: 349,
            y: 89,
        },
        {
            x: 348,
            y: 88,
        },
        {
            x: 348,
            y: 89,
        },
        {
            x: 347,
            y: 88,
        },
        {
            x: 347,
            y: 89,
        },
        {
            x: 346,
            y: 88,
        },
        {
            x: 346,
            y: 89,
        },
        {
            x: 345,
            y: 88,
        },
        {
            x: 345,
            y: 89,
        },
        {
            x: 344,
            y: 88,
        },
        {
            x: 344,
            y: 89,
        },
        {
            x: 343,
            y: 88,
        },
        {
            x: 343,
            y: 89,
        },
        {
            x: 342,
            y: 88,
        },
        {
            x: 342,
            y: 89,
        },
        {
            x: 341,
            y: 88,
        },
        {
            x: 341,
            y: 89,
        },
        {
            x: 340,
            y: 88,
        },
        {
            x: 340,
            y: 89,
        },
        {
            x: 339,
            y: 88,
        },
        {
            x: 339,
            y: 89,
        },
        {
            x: 338,
            y: 88,
        },
        {
            x: 338,
            y: 89,
        },
        {
            x: 337,
            y: 88,
        },
        {
            x: 337,
            y: 89,
        },
        {
            x: 336,
            y: 88,
        },
        {
            x: 336,
            y: 89,
        },
        {
            x: 335,
            y: 88,
        },
        {
            x: 335,
            y: 89,
        },
        {
            x: 334,
            y: 88,
        },
        {
            x: 334,
            y: 89,
        },
        {
            x: 333,
            y: 88,
        },
        {
            x: 333,
            y: 89,
        },
        {
            x: 332,
            y: 88,
        },
        {
            x: 332,
            y: 89,
        },
        {
            x: 331,
            y: 88,
        },
        {
            x: 331,
            y: 89,
        },
        {
            x: 330,
            y: 88,
        },
        {
            x: 330,
            y: 89,
        },
        {
            x: 329,
            y: 88,
        },
        {
            x: 329,
            y: 89,
        },
        {
            x: 328,
            y: 88,
        },
        {
            x: 328,
            y: 89,
        },
        {
            x: 327,
            y: 88,
        },
        {
            x: 327,
            y: 89,
        },
        {
            x: 326,
            y: 88,
        },
        {
            x: 326,
            y: 89,
        },
        {
            x: 325,
            y: 88,
        },
        {
            x: 325,
            y: 89,
        },
        {
            x: 324,
            y: 88,
        },
        {
            x: 324,
            y: 89,
        },
        {
            x: 323,
            y: 88,
        },
        {
            x: 323,
            y: 89,
        },
        {
            x: 322,
            y: 88,
        },
        {
            x: 322,
            y: 89,
        },
        {
            x: 321,
            y: 88,
        },
        {
            x: 321,
            y: 89,
        },
        {
            x: 320,
            y: 88,
        },
        {
            x: 320,
            y: 89,
        },
        {
            x: 319,
            y: 88,
        },
        {
            x: 319,
            y: 89,
        },
        {
            x: 318,
            y: 88,
        },
        {
            x: 318,
            y: 89,
        },
        {
            x: 317,
            y: 88,
        },
        {
            x: 317,
            y: 89,
        },
        {
            x: 316,
            y: 88,
        },
        {
            x: 316,
            y: 89,
        },
        {
            x: 315,
            y: 88,
        },
        {
            x: 315,
            y: 89,
        },
        {
            x: 314,
            y: 88,
        },
        {
            x: 314,
            y: 89,
        },
        {
            x: 313,
            y: 88,
        },
        {
            x: 313,
            y: 89,
        },
        {
            x: 312,
            y: 88,
        },
        {
            x: 312,
            y: 89,
        },
        {
            x: 311,
            y: 88,
        },
        {
            x: 311,
            y: 89,
        },
        {
            x: 310,
            y: 88,
        },
        {
            x: 310,
            y: 89,
        },
        {
            x: 309,
            y: 88,
        },
        {
            x: 309,
            y: 89,
        },
        {
            x: 308,
            y: 88,
        },
        {
            x: 307,
            y: 87,
        },
        {
            x: 307,
            y: 88,
        },
        {
            x: 308,
            y: 87,
        },
        {
            x: 309,
            y: 87,
        },
        {
            x: 308,
            y: 86,
        },
        {
            x: 309,
            y: 86,
        },
        {
            x: 310,
            y: 86,
        },
        {
            x: 310,
            y: 87,
        },
        {
            x: 311,
            y: 86,
        },
        {
            x: 311,
            y: 87,
        },
        {
            x: 312,
            y: 86,
        },
        {
            x: 312,
            y: 87,
        },
        {
            x: 313,
            y: 86,
        },
        {
            x: 313,
            y: 87,
        },
        {
            x: 314,
            y: 86,
        },
        {
            x: 314,
            y: 87,
        },
        {
            x: 315,
            y: 86,
        },
        {
            x: 315,
            y: 87,
        },
        {
            x: 316,
            y: 86,
        },
        {
            x: 316,
            y: 87,
        },
        {
            x: 317,
            y: 86,
        },
        {
            x: 317,
            y: 87,
        },
        {
            x: 318,
            y: 86,
        },
        {
            x: 318,
            y: 87,
        },
        {
            x: 319,
            y: 86,
        },
        {
            x: 319,
            y: 87,
        },
        {
            x: 320,
            y: 86,
        },
        {
            x: 320,
            y: 87,
        },
        {
            x: 321,
            y: 86,
        },
        {
            x: 321,
            y: 87,
        },
        {
            x: 322,
            y: 86,
        },
        {
            x: 322,
            y: 87,
        },
        {
            x: 323,
            y: 86,
        },
        {
            x: 323,
            y: 87,
        },
        {
            x: 324,
            y: 86,
        },
        {
            x: 324,
            y: 87,
        },
        {
            x: 325,
            y: 86,
        },
        {
            x: 325,
            y: 87,
        },
        {
            x: 326,
            y: 86,
        },
        {
            x: 326,
            y: 87,
        },
        {
            x: 327,
            y: 86,
        },
        {
            x: 327,
            y: 87,
        },
        {
            x: 328,
            y: 86,
        },
        {
            x: 328,
            y: 87,
        },
        {
            x: 329,
            y: 86,
        },
        {
            x: 329,
            y: 87,
        },
        {
            x: 330,
            y: 86,
        },
        {
            x: 330,
            y: 87,
        },
        {
            x: 331,
            y: 86,
        },
        {
            x: 331,
            y: 87,
        },
        {
            x: 332,
            y: 86,
        },
        {
            x: 332,
            y: 87,
        },
        {
            x: 333,
            y: 86,
        },
        {
            x: 333,
            y: 87,
        },
        {
            x: 334,
            y: 86,
        },
        {
            x: 334,
            y: 87,
        },
        {
            x: 335,
            y: 86,
        },
        {
            x: 335,
            y: 87,
        },
        {
            x: 336,
            y: 86,
        },
        {
            x: 336,
            y: 87,
        },
        {
            x: 337,
            y: 86,
        },
        {
            x: 337,
            y: 87,
        },
        {
            x: 338,
            y: 86,
        },
        {
            x: 338,
            y: 87,
        },
        {
            x: 339,
            y: 86,
        },
        {
            x: 339,
            y: 87,
        },
        {
            x: 340,
            y: 86,
        },
        {
            x: 340,
            y: 87,
        },
        {
            x: 341,
            y: 86,
        },
        {
            x: 341,
            y: 87,
        },
        {
            x: 342,
            y: 86,
        },
        {
            x: 342,
            y: 87,
        },
        {
            x: 343,
            y: 86,
        },
        {
            x: 343,
            y: 87,
        },
        {
            x: 344,
            y: 86,
        },
        {
            x: 344,
            y: 87,
        },
        {
            x: 345,
            y: 86,
        },
        {
            x: 345,
            y: 87,
        },
        {
            x: 346,
            y: 86,
        },
        {
            x: 346,
            y: 87,
        },
        {
            x: 347,
            y: 86,
        },
        {
            x: 347,
            y: 87,
        },
        {
            x: 348,
            y: 86,
        },
        {
            x: 348,
            y: 87,
        },
        {
            x: 349,
            y: 86,
        },
        {
            x: 349,
            y: 87,
        },
        {
            x: 350,
            y: 86,
        },
        {
            x: 350,
            y: 87,
        },
        {
            x: 351,
            y: 86,
        },
        {
            x: 351,
            y: 87,
        },
        {
            x: 352,
            y: 86,
        },
        {
            x: 352,
            y: 87,
        },
        {
            x: 353,
            y: 86,
        },
        {
            x: 353,
            y: 87,
        },
        {
            x: 354,
            y: 86,
        },
        {
            x: 354,
            y: 87,
        },
        {
            x: 355,
            y: 86,
        },
        {
            x: 355,
            y: 87,
        },
        {
            x: 356,
            y: 86,
        },
        {
            x: 356,
            y: 87,
        },
        {
            x: 357,
            y: 86,
        },
        {
            x: 357,
            y: 87,
        },
        {
            x: 358,
            y: 86,
        },
        {
            x: 358,
            y: 87,
        },
        {
            x: 359,
            y: 86,
        },
        {
            x: 359,
            y: 87,
        },
        {
            x: 360,
            y: 86,
        },
        {
            x: 360,
            y: 87,
        },
        {
            x: 361,
            y: 86,
        },
        {
            x: 361,
            y: 87,
        },
        {
            x: 362,
            y: 86,
        },
        {
            x: 362,
            y: 87,
        },
        {
            x: 363,
            y: 86,
        },
        {
            x: 363,
            y: 87,
        },
        {
            x: 364,
            y: 86,
        },
        {
            x: 364,
            y: 87,
        },
        {
            x: 365,
            y: 86,
        },
        {
            x: 365,
            y: 87,
        },
        {
            x: 366,
            y: 86,
        },
        {
            x: 366,
            y: 87,
        },
        {
            x: 367,
            y: 86,
        },
        {
            x: 367,
            y: 87,
        },
        {
            x: 368,
            y: 86,
        },
        {
            x: 368,
            y: 87,
        },
        {
            x: 369,
            y: 86,
        },
        {
            x: 369,
            y: 87,
        },
        {
            x: 370,
            y: 86,
        },
        {
            x: 370,
            y: 87,
        },
        {
            x: 371,
            y: 86,
        },
        {
            x: 371,
            y: 87,
        },
        {
            x: 372,
            y: 86,
        },
        {
            x: 372,
            y: 87,
        },
        {
            x: 373,
            y: 86,
        },
        {
            x: 373,
            y: 87,
        },
        {
            x: 374,
            y: 86,
        },
        {
            x: 374,
            y: 87,
        },
        {
            x: 375,
            y: 86,
        },
        {
            x: 375,
            y: 87,
        },
        {
            x: 376,
            y: 86,
        },
        {
            x: 376,
            y: 87,
        },
        {
            x: 377,
            y: 86,
        },
        {
            x: 377,
            y: 87,
        },
        {
            x: 378,
            y: 86,
        },
        {
            x: 378,
            y: 87,
        },
        {
            x: 379,
            y: 86,
        },
        {
            x: 379,
            y: 87,
        },
        {
            x: 380,
            y: 86,
        },
        {
            x: 380,
            y: 87,
        },
        {
            x: 381,
            y: 86,
        },
        {
            x: 381,
            y: 87,
        },
        {
            x: 382,
            y: 86,
        },
        {
            x: 382,
            y: 87,
        },
        {
            x: 383,
            y: 86,
        },
        {
            x: 383,
            y: 87,
        },
        {
            x: 384,
            y: 86,
        },
        {
            x: 384,
            y: 87,
        },
        {
            x: 385,
            y: 86,
        },
        {
            x: 385,
            y: 87,
        },
        {
            x: 386,
            y: 86,
        },
        {
            x: 386,
            y: 87,
        },
        {
            x: 387,
            y: 86,
        },
        {
            x: 387,
            y: 87,
        },
        {
            x: 388,
            y: 86,
        },
        {
            x: 388,
            y: 87,
        },
        {
            x: 389,
            y: 86,
        },
        {
            x: 389,
            y: 87,
        },
        {
            x: 390,
            y: 86,
        },
        {
            x: 390,
            y: 87,
        },
        {
            x: 391,
            y: 86,
        },
        {
            x: 391,
            y: 87,
        },
        {
            x: 392,
            y: 86,
        },
        {
            x: 392,
            y: 87,
        },
        {
            x: 393,
            y: 87,
        },
        {
            x: 391,
            y: 85,
        },
        {
            x: 390,
            y: 84,
        },
        {
            x: 390,
            y: 85,
        },
        {
            x: 389,
            y: 84,
        },
        {
            x: 389,
            y: 85,
        },
        {
            x: 388,
            y: 84,
        },
        {
            x: 388,
            y: 85,
        },
        {
            x: 387,
            y: 84,
        },
        {
            x: 387,
            y: 85,
        },
        {
            x: 386,
            y: 84,
        },
        {
            x: 386,
            y: 85,
        },
        {
            x: 385,
            y: 84,
        },
        {
            x: 385,
            y: 85,
        },
        {
            x: 384,
            y: 84,
        },
        {
            x: 384,
            y: 85,
        },
        {
            x: 383,
            y: 84,
        },
        {
            x: 383,
            y: 85,
        },
        {
            x: 382,
            y: 84,
        },
        {
            x: 382,
            y: 85,
        },
        {
            x: 381,
            y: 84,
        },
        {
            x: 381,
            y: 85,
        },
        {
            x: 380,
            y: 84,
        },
        {
            x: 380,
            y: 85,
        },
        {
            x: 379,
            y: 84,
        },
        {
            x: 379,
            y: 85,
        },
        {
            x: 378,
            y: 84,
        },
        {
            x: 378,
            y: 85,
        },
        {
            x: 377,
            y: 84,
        },
        {
            x: 377,
            y: 85,
        },
        {
            x: 376,
            y: 84,
        },
        {
            x: 376,
            y: 85,
        },
        {
            x: 375,
            y: 84,
        },
        {
            x: 375,
            y: 85,
        },
        {
            x: 374,
            y: 84,
        },
        {
            x: 374,
            y: 85,
        },
        {
            x: 373,
            y: 84,
        },
        {
            x: 373,
            y: 85,
        },
        {
            x: 372,
            y: 84,
        },
        {
            x: 372,
            y: 85,
        },
        {
            x: 371,
            y: 84,
        },
        {
            x: 371,
            y: 85,
        },
        {
            x: 370,
            y: 84,
        },
        {
            x: 370,
            y: 85,
        },
        {
            x: 369,
            y: 84,
        },
        {
            x: 369,
            y: 85,
        },
        {
            x: 368,
            y: 84,
        },
        {
            x: 368,
            y: 85,
        },
        {
            x: 367,
            y: 84,
        },
        {
            x: 367,
            y: 85,
        },
        {
            x: 366,
            y: 84,
        },
        {
            x: 366,
            y: 85,
        },
        {
            x: 365,
            y: 84,
        },
        {
            x: 365,
            y: 85,
        },
        {
            x: 364,
            y: 84,
        },
        {
            x: 364,
            y: 85,
        },
        {
            x: 363,
            y: 84,
        },
        {
            x: 363,
            y: 85,
        },
        {
            x: 362,
            y: 84,
        },
        {
            x: 362,
            y: 85,
        },
        {
            x: 361,
            y: 84,
        },
        {
            x: 361,
            y: 85,
        },
        {
            x: 360,
            y: 84,
        },
        {
            x: 360,
            y: 85,
        },
        {
            x: 359,
            y: 84,
        },
        {
            x: 359,
            y: 85,
        },
        {
            x: 358,
            y: 84,
        },
        {
            x: 358,
            y: 85,
        },
        {
            x: 357,
            y: 84,
        },
        {
            x: 357,
            y: 85,
        },
        {
            x: 356,
            y: 84,
        },
        {
            x: 356,
            y: 85,
        },
        {
            x: 355,
            y: 84,
        },
        {
            x: 355,
            y: 85,
        },
        {
            x: 354,
            y: 84,
        },
        {
            x: 354,
            y: 85,
        },
        {
            x: 353,
            y: 84,
        },
        {
            x: 353,
            y: 85,
        },
        {
            x: 352,
            y: 84,
        },
        {
            x: 352,
            y: 85,
        },
        {
            x: 351,
            y: 84,
        },
        {
            x: 351,
            y: 85,
        },
        {
            x: 350,
            y: 84,
        },
        {
            x: 350,
            y: 85,
        },
        {
            x: 349,
            y: 84,
        },
        {
            x: 349,
            y: 85,
        },
        {
            x: 348,
            y: 84,
        },
        {
            x: 348,
            y: 85,
        },
        {
            x: 347,
            y: 84,
        },
        {
            x: 347,
            y: 85,
        },
        {
            x: 346,
            y: 84,
        },
        {
            x: 346,
            y: 85,
        },
        {
            x: 345,
            y: 84,
        },
        {
            x: 345,
            y: 85,
        },
        {
            x: 344,
            y: 84,
        },
        {
            x: 344,
            y: 85,
        },
        {
            x: 343,
            y: 84,
        },
        {
            x: 343,
            y: 85,
        },
        {
            x: 342,
            y: 84,
        },
        {
            x: 342,
            y: 85,
        },
        {
            x: 341,
            y: 84,
        },
        {
            x: 341,
            y: 85,
        },
        {
            x: 340,
            y: 84,
        },
        {
            x: 340,
            y: 85,
        },
        {
            x: 339,
            y: 84,
        },
        {
            x: 339,
            y: 85,
        },
        {
            x: 338,
            y: 84,
        },
        {
            x: 338,
            y: 85,
        },
        {
            x: 337,
            y: 84,
        },
        {
            x: 337,
            y: 85,
        },
        {
            x: 336,
            y: 84,
        },
        {
            x: 336,
            y: 85,
        },
        {
            x: 335,
            y: 84,
        },
        {
            x: 335,
            y: 85,
        },
        {
            x: 334,
            y: 84,
        },
        {
            x: 334,
            y: 85,
        },
        {
            x: 333,
            y: 84,
        },
        {
            x: 333,
            y: 85,
        },
        {
            x: 332,
            y: 84,
        },
        {
            x: 332,
            y: 85,
        },
        {
            x: 331,
            y: 84,
        },
        {
            x: 331,
            y: 85,
        },
        {
            x: 330,
            y: 84,
        },
        {
            x: 330,
            y: 85,
        },
        {
            x: 329,
            y: 84,
        },
        {
            x: 329,
            y: 85,
        },
        {
            x: 328,
            y: 84,
        },
        {
            x: 328,
            y: 85,
        },
        {
            x: 327,
            y: 84,
        },
        {
            x: 327,
            y: 85,
        },
        {
            x: 326,
            y: 84,
        },
        {
            x: 326,
            y: 85,
        },
        {
            x: 325,
            y: 84,
        },
        {
            x: 325,
            y: 85,
        },
        {
            x: 324,
            y: 84,
        },
        {
            x: 324,
            y: 85,
        },
        {
            x: 323,
            y: 84,
        },
        {
            x: 323,
            y: 85,
        },
        {
            x: 322,
            y: 84,
        },
        {
            x: 322,
            y: 85,
        },
        {
            x: 321,
            y: 84,
        },
        {
            x: 321,
            y: 85,
        },
        {
            x: 320,
            y: 84,
        },
        {
            x: 320,
            y: 85,
        },
        {
            x: 319,
            y: 84,
        },
        {
            x: 319,
            y: 85,
        },
        {
            x: 318,
            y: 84,
        },
        {
            x: 318,
            y: 85,
        },
        {
            x: 317,
            y: 84,
        },
        {
            x: 317,
            y: 85,
        },
        {
            x: 316,
            y: 84,
        },
        {
            x: 316,
            y: 85,
        },
        {
            x: 315,
            y: 84,
        },
        {
            x: 315,
            y: 85,
        },
        {
            x: 314,
            y: 84,
        },
        {
            x: 314,
            y: 85,
        },
        {
            x: 313,
            y: 84,
        },
        {
            x: 313,
            y: 85,
        },
        {
            x: 312,
            y: 84,
        },
        {
            x: 312,
            y: 85,
        },
        {
            x: 311,
            y: 84,
        },
        {
            x: 311,
            y: 85,
        },
        {
            x: 310,
            y: 84,
        },
        {
            x: 310,
            y: 85,
        },
        {
            x: 309,
            y: 84,
        },
        {
            x: 309,
            y: 85,
        },
        {
            x: 308,
            y: 84,
        },
        {
            x: 308,
            y: 85,
        },
        {
            x: 307,
            y: 84,
        },
        {
            x: 307,
            y: 85,
        },
        {
            x: 307,
            y: 86,
        },
        {
            x: 306,
            y: 85,
        },
        {
            x: 306,
            y: 86,
        },
        {
            x: 306,
            y: 84,
        },
        {
            x: 307,
            y: 83,
        },
        {
            x: 307,
            y: 82,
        },
        {
            x: 308,
            y: 82,
        },
        {
            x: 308,
            y: 83,
        },
        {
            x: 309,
            y: 82,
        },
        {
            x: 309,
            y: 83,
        },
        {
            x: 310,
            y: 82,
        },
        {
            x: 310,
            y: 83,
        },
        {
            x: 311,
            y: 82,
        },
        {
            x: 311,
            y: 83,
        },
        {
            x: 312,
            y: 82,
        },
        {
            x: 312,
            y: 83,
        },
        {
            x: 313,
            y: 82,
        },
        {
            x: 313,
            y: 83,
        },
        {
            x: 314,
            y: 82,
        },
        {
            x: 314,
            y: 83,
        },
        {
            x: 315,
            y: 82,
        },
        {
            x: 315,
            y: 83,
        },
        {
            x: 316,
            y: 82,
        },
        {
            x: 316,
            y: 83,
        },
        {
            x: 317,
            y: 82,
        },
        {
            x: 317,
            y: 83,
        },
        {
            x: 318,
            y: 82,
        },
        {
            x: 318,
            y: 83,
        },
        {
            x: 319,
            y: 82,
        },
        {
            x: 319,
            y: 83,
        },
        {
            x: 320,
            y: 82,
        },
        {
            x: 320,
            y: 83,
        },
        {
            x: 321,
            y: 82,
        },
        {
            x: 321,
            y: 83,
        },
        {
            x: 322,
            y: 82,
        },
        {
            x: 322,
            y: 83,
        },
        {
            x: 323,
            y: 82,
        },
        {
            x: 323,
            y: 83,
        },
        {
            x: 324,
            y: 82,
        },
        {
            x: 324,
            y: 83,
        },
        {
            x: 325,
            y: 82,
        },
        {
            x: 325,
            y: 83,
        },
        {
            x: 326,
            y: 82,
        },
        {
            x: 326,
            y: 83,
        },
        {
            x: 327,
            y: 82,
        },
        {
            x: 327,
            y: 83,
        },
        {
            x: 328,
            y: 82,
        },
        {
            x: 328,
            y: 83,
        },
        {
            x: 329,
            y: 82,
        },
        {
            x: 329,
            y: 83,
        },
        {
            x: 330,
            y: 82,
        },
        {
            x: 330,
            y: 83,
        },
        {
            x: 331,
            y: 82,
        },
        {
            x: 331,
            y: 83,
        },
        {
            x: 332,
            y: 82,
        },
        {
            x: 332,
            y: 83,
        },
        {
            x: 333,
            y: 82,
        },
        {
            x: 333,
            y: 83,
        },
        {
            x: 334,
            y: 82,
        },
        {
            x: 334,
            y: 83,
        },
        {
            x: 335,
            y: 82,
        },
        {
            x: 335,
            y: 83,
        },
        {
            x: 336,
            y: 82,
        },
        {
            x: 336,
            y: 83,
        },
        {
            x: 337,
            y: 82,
        },
        {
            x: 337,
            y: 83,
        },
        {
            x: 338,
            y: 82,
        },
        {
            x: 338,
            y: 83,
        },
        {
            x: 339,
            y: 82,
        },
        {
            x: 339,
            y: 83,
        },
        {
            x: 340,
            y: 82,
        },
        {
            x: 340,
            y: 83,
        },
        {
            x: 341,
            y: 82,
        },
        {
            x: 341,
            y: 83,
        },
        {
            x: 342,
            y: 82,
        },
        {
            x: 342,
            y: 83,
        },
        {
            x: 343,
            y: 82,
        },
        {
            x: 343,
            y: 83,
        },
        {
            x: 344,
            y: 82,
        },
        {
            x: 344,
            y: 83,
        },
        {
            x: 345,
            y: 82,
        },
        {
            x: 345,
            y: 83,
        },
        {
            x: 346,
            y: 82,
        },
        {
            x: 346,
            y: 83,
        },
        {
            x: 347,
            y: 82,
        },
        {
            x: 347,
            y: 83,
        },
        {
            x: 348,
            y: 82,
        },
        {
            x: 348,
            y: 83,
        },
        {
            x: 349,
            y: 82,
        },
        {
            x: 349,
            y: 83,
        },
        {
            x: 350,
            y: 82,
        },
        {
            x: 350,
            y: 83,
        },
        {
            x: 351,
            y: 82,
        },
        {
            x: 351,
            y: 83,
        },
        {
            x: 352,
            y: 82,
        },
        {
            x: 352,
            y: 83,
        },
        {
            x: 353,
            y: 82,
        },
        {
            x: 353,
            y: 83,
        },
        {
            x: 354,
            y: 82,
        },
        {
            x: 354,
            y: 83,
        },
        {
            x: 355,
            y: 82,
        },
        {
            x: 355,
            y: 83,
        },
        {
            x: 356,
            y: 82,
        },
        {
            x: 356,
            y: 83,
        },
        {
            x: 357,
            y: 82,
        },
        {
            x: 357,
            y: 83,
        },
        {
            x: 358,
            y: 82,
        },
        {
            x: 358,
            y: 83,
        },
        {
            x: 359,
            y: 82,
        },
        {
            x: 359,
            y: 83,
        },
        {
            x: 360,
            y: 82,
        },
        {
            x: 360,
            y: 83,
        },
        {
            x: 361,
            y: 82,
        },
        {
            x: 361,
            y: 83,
        },
        {
            x: 362,
            y: 82,
        },
        {
            x: 362,
            y: 83,
        },
        {
            x: 363,
            y: 82,
        },
        {
            x: 363,
            y: 83,
        },
        {
            x: 364,
            y: 82,
        },
        {
            x: 364,
            y: 83,
        },
        {
            x: 365,
            y: 82,
        },
        {
            x: 365,
            y: 83,
        },
        {
            x: 366,
            y: 82,
        },
        {
            x: 366,
            y: 83,
        },
        {
            x: 367,
            y: 82,
        },
        {
            x: 367,
            y: 83,
        },
        {
            x: 368,
            y: 82,
        },
        {
            x: 368,
            y: 83,
        },
        {
            x: 369,
            y: 82,
        },
        {
            x: 369,
            y: 83,
        },
        {
            x: 370,
            y: 82,
        },
        {
            x: 370,
            y: 83,
        },
        {
            x: 371,
            y: 82,
        },
        {
            x: 371,
            y: 83,
        },
        {
            x: 372,
            y: 82,
        },
        {
            x: 372,
            y: 83,
        },
        {
            x: 373,
            y: 82,
        },
        {
            x: 373,
            y: 83,
        },
        {
            x: 374,
            y: 82,
        },
        {
            x: 374,
            y: 83,
        },
        {
            x: 375,
            y: 82,
        },
        {
            x: 375,
            y: 83,
        },
        {
            x: 376,
            y: 82,
        },
        {
            x: 376,
            y: 83,
        },
        {
            x: 377,
            y: 82,
        },
        {
            x: 377,
            y: 83,
        },
        {
            x: 378,
            y: 82,
        },
        {
            x: 378,
            y: 83,
        },
        {
            x: 379,
            y: 82,
        },
        {
            x: 379,
            y: 83,
        },
        {
            x: 380,
            y: 82,
        },
        {
            x: 380,
            y: 83,
        },
        {
            x: 381,
            y: 82,
        },
        {
            x: 381,
            y: 83,
        },
        {
            x: 382,
            y: 82,
        },
        {
            x: 382,
            y: 83,
        },
        {
            x: 383,
            y: 82,
        },
        {
            x: 383,
            y: 83,
        },
        {
            x: 384,
            y: 82,
        },
        {
            x: 384,
            y: 83,
        },
        {
            x: 385,
            y: 82,
        },
        {
            x: 385,
            y: 83,
        },
        {
            x: 386,
            y: 82,
        },
        {
            x: 386,
            y: 83,
        },
        {
            x: 387,
            y: 82,
        },
        {
            x: 387,
            y: 83,
        },
        {
            x: 388,
            y: 82,
        },
        {
            x: 388,
            y: 83,
        },
        {
            x: 389,
            y: 82,
        },
        {
            x: 389,
            y: 83,
        },
        {
            x: 388,
            y: 81,
        },
        {
            x: 389,
            y: 81,
        },
        {
            x: 387,
            y: 81,
        },
        {
            x: 386,
            y: 81,
        },
        {
            x: 385,
            y: 81,
        },
        {
            x: 384,
            y: 81,
        },
        {
            x: 383,
            y: 81,
        },
        {
            x: 382,
            y: 81,
        },
        {
            x: 381,
            y: 81,
        },
        {
            x: 380,
            y: 81,
        },
        {
            x: 379,
            y: 81,
        },
        {
            x: 378,
            y: 81,
        },
        {
            x: 377,
            y: 81,
        },
        {
            x: 376,
            y: 81,
        },
        {
            x: 375,
            y: 81,
        },
        {
            x: 374,
            y: 81,
        },
        {
            x: 373,
            y: 81,
        },
        {
            x: 372,
            y: 81,
        },
        {
            x: 371,
            y: 81,
        },
        {
            x: 370,
            y: 81,
        },
        {
            x: 369,
            y: 81,
        },
        {
            x: 368,
            y: 81,
        },
        {
            x: 367,
            y: 81,
        },
        {
            x: 366,
            y: 81,
        },
        {
            x: 365,
            y: 81,
        },
        {
            x: 364,
            y: 81,
        },
        {
            x: 363,
            y: 81,
        },
        {
            x: 362,
            y: 81,
        },
        {
            x: 361,
            y: 81,
        },
        {
            x: 360,
            y: 81,
        },
        {
            x: 359,
            y: 81,
        },
        {
            x: 358,
            y: 81,
        },
        {
            x: 357,
            y: 81,
        },
        {
            x: 356,
            y: 81,
        },
        {
            x: 355,
            y: 81,
        },
        {
            x: 354,
            y: 81,
        },
        {
            x: 353,
            y: 81,
        },
        {
            x: 352,
            y: 81,
        },
        {
            x: 351,
            y: 81,
        },
        {
            x: 350,
            y: 81,
        },
        {
            x: 349,
            y: 81,
        },
        {
            x: 348,
            y: 81,
        },
        {
            x: 347,
            y: 81,
        },
        {
            x: 346,
            y: 81,
        },
        {
            x: 345,
            y: 81,
        },
        {
            x: 344,
            y: 81,
        },
        {
            x: 343,
            y: 81,
        },
        {
            x: 342,
            y: 81,
        },
        {
            x: 341,
            y: 81,
        },
        {
            x: 340,
            y: 81,
        },
        {
            x: 339,
            y: 81,
        },
        {
            x: 338,
            y: 81,
        },
        {
            x: 337,
            y: 81,
        },
        {
            x: 336,
            y: 81,
        },
        {
            x: 335,
            y: 81,
        },
        {
            x: 334,
            y: 81,
        },
        {
            x: 333,
            y: 81,
        },
        {
            x: 332,
            y: 81,
        },
        {
            x: 331,
            y: 81,
        },
        {
            x: 330,
            y: 81,
        },
        {
            x: 329,
            y: 81,
        },
        {
            x: 328,
            y: 81,
        },
        {
            x: 327,
            y: 81,
        },
        {
            x: 326,
            y: 81,
        },
        {
            x: 325,
            y: 81,
        },
        {
            x: 324,
            y: 81,
        },
        {
            x: 323,
            y: 81,
        },
        {
            x: 322,
            y: 81,
        },
        {
            x: 321,
            y: 81,
        },
        {
            x: 320,
            y: 81,
        },
        {
            x: 319,
            y: 81,
        },
        {
            x: 318,
            y: 81,
        },
        {
            x: 317,
            y: 81,
        },
        {
            x: 316,
            y: 81,
        },
        {
            x: 315,
            y: 81,
        },
        {
            x: 314,
            y: 81,
        },
        {
            x: 313,
            y: 81,
        },
        {
            x: 312,
            y: 81,
        },
        {
            x: 311,
            y: 81,
        },
        {
            x: 310,
            y: 81,
        },
        {
            x: 309,
            y: 81,
        },
    ];
    // a enlever plus tard
    // eslint-disable-next-line max-params
    constructor(
        public timer: TimerService,
        private gameAreaService: GameAreaService,
        private gameCardService: GameCardService,
        private communication: CommunicationService,
        private classicService: ClassicSystemService,
    ) {}

    ngAfterViewInit(): void {
        this.timer.startTimer();
        this.time = this.timer.time;
        this.classicService.manageSocket();

        this.gameCardService.getGameId().subscribe((id) => {
            this.communication.loadGameById(id).subscribe((game) => {
                if (game) {
                    this.game = game;
                    this.gameAreaService.originalContext = this.originalCanvas.nativeElement.getContext('2d') as CanvasRenderingContext2D;
                    this.gameAreaService.modifiedContext = this.modifiedCanvas.nativeElement.getContext('2d') as CanvasRenderingContext2D;
                    this.gameAreaService.originalContextFrontLayer = this.originalCanvasForeground.nativeElement.getContext(
                        '2d',
                    ) as CanvasRenderingContext2D;
                    this.gameAreaService.modifiedContextFrontLayer = this.modifiedCanvasForeground.nativeElement.getContext(
                        '2d',
                    ) as CanvasRenderingContext2D;
                    this.gameAreaService.loadImage(this.gameAreaService.originalContext, this.game.original);
                    this.gameAreaService.loadImage(this.gameAreaService.modifiedContext, this.game.modified);
                    this.gameAreaService.setAllData();
                }
            });
        });
    }

    finish() {
        this.timer.resetTimer();
    }
    getHint(index: number): void {
        const hint = this.game.hintList[index];
        window.alert(hint); // temporary until we find the best way to display it
    }
    abandonGame(): void {
        // this.timer.stopTimer();
    }

    mouseClickOnOriginal(event: MouseEvent) {
        if (this.gameAreaService.detectLeftClick(event)) {
            this.isLeftCanvas = true;
            this.gameAreaService.setAllData();
        }
    }

    mouseClickOnModified(event: MouseEvent) {
        if (this.gameAreaService.detectLeftClick(event)) {
            this.isLeftCanvas = false;
        }
    }
    ngOnDestroy(): void {
        this.timer.stopTimer();
    }
}
